<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <script src="http://code.jquery.com/jquery-1.8.3.js"></script>
    <style>
        li {
            cursor: pointer;
        }
    </style>
</head>

<body>
    <script>
        var blank = [
            {
                text: 'Животные',
                childs: [
                    {
                        text: 'Млекопитающие',
                        childs: [
                            {
                                text: 'Коровы',
                                childs: []
                            },
                            {
                                text: 'Ослы',
                                childs: []
                            },
                            {
                                text: 'Собаки',
                                childs: []
                            },
                            {
                                text: 'Тигры',
                                childs: []
                            }
                        ]
                    },
                    {
                        text: 'Другие',
                        childs: [
                            {
                                text: 'Змеи',
                                childs: []
                            },
                            {
                                text: 'Птицы',
                                childs: []
                            },
                            {
                                text: 'Ящерицы',
                                childs: []
                            }
                        ]
                    }
                ]
            },
            {
                text: 'Рыбы',
                childs: [
                    {
                        text: 'Аквариумные',
                        childs: [
                            {
                                text: 'Гуппи',
                                childs: []
                            },
                            {
                                text: 'Скалярии',
                                childs: []
                            }
                        ]
                    },
                    {
                        text: 'Морские',
                        childs: [
                            {
                                text: 'Морская форель',
                                childs: []
                            }
                        ]
                    }
                ]
            }
        ];

        function create_list(childs) {
            let ul = $('<ul>');
            for (ch of childs) {
                let li = $('<li>');
                li.append(ch.text);
                if (ch.childs != undefined) {
                    li.append(create_list(ch.childs));
                }
                li.on('click', function () {
                    $(this.firstElementChild).slideToggle(800);
                    return false;
                })
                ul.append(li);
            }
            return ul;
        }

        $('body').append(create_list(blank));

        $('li').each(function () {
            var text = $(this).clone().children('ul').remove().end().text();
            console.log("Text: " + text + " Count: " + $(this).find('li').length);
        });

    </script>
</body>

</html>